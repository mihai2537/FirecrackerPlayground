Current status of dpdk_component library crate:
-managed to create a ClientDpdk struct inside the Net struct.


CURRENT README:

BUILD WITH THIS:

(for quick build)
RUSTFLAGS="-lrte_eal -lrte_mempool -lrte_mbuf -C target-feature=-crt-static" cargo build --target=x86_64-unknown-linux-gnu


(this one takes too long)
RUSTFLAGS="-lrte_node -lrte_graph -lrte_bpf -lrte_flow_classify -lrte_pipeline -lrte_table -lrte_port -lrte_fib -lrte_ipsec -lrte_vhost -lrte_stack -lrte_security -lrte_sched -lrte_reorder -lrte_rib -lrte_regexdev -lrte_rawdev -lrte_pdump -lrte_power -lrte_member -lrte_lpm -lrte_latencystats -lrte_kni -lrte_jobstats -lrte_ip_frag -lrte_gso -lrte_gro -lrte_eventdev -lrte_efd -lrte_distributor -lrte_cryptodev -lrte_compressdev -lrte_cfgfile -lrte_bitratestats -lrte_bbdev -lrte_acl -lrte_timer -lrte_hash -lrte_metrics -lrte_cmdline -lrte_pci -lrte_ethdev -lrte_meter -lrte_net -lrte_mbuf -lrte_mempool -lrte_rcu -lrte_ring -lrte_eal -lrte_telemetry -lrte_kvargs -C target-feature=-crt-static" cargo build --target=x86_64-unknown-linux-gnu



Managed to overcome the missing headers by building with this.






Overcame this using the build command mentioned above.
Someone also told me to include the "./include" folder and to remove the path to the include folder from .C file.
Have to try this thing.

OLD:
-----------------------------------------------------------------------------
when using cargo build, I'm getting the following error:
--------------------------------------------------------------------------------


mihai@bobita:~/firecracker/firecracker/src/dpdk_component$ RUSTFLAGS="-lrte_node -lrte_graph -lrte_bpf -lrte_flow_classify -lrte_pipeline -lrte_table -lrte_port -lrte_fib -lrte_ipsec -lrte_vhost -lrte_stack -lrte_security -lrte_sched -lrte_reorder -lrte_rib -lrte_regexdev -lrte_rawdev -lrte_pdump -lrte_power -lrte_member -lrte_lpm -lrte_latencystats -lrte_kni -lrte_jobstats -lrte_ip_frag -lrte_gso -lrte_gro -lrte_eventdev -lrte_efd -lrte_distributor -lrte_cryptodev -lrte_compressdev -lrte_cfgfile -lrte_bitratestats -lrte_bbdev -lrte_acl -lrte_timer -lrte_hash -lrte_metrics -lrte_cmdline -lrte_pci -lrte_ethdev -lrte_meter -lrte_net -lrte_mbuf -lrte_mempool -lrte_rcu -lrte_ring -lrte_eal -lrte_telemetry -lrte_kvargs -C target-feature=-crt-static" cargo build
   Compiling dpdk_component v0.1.0 (/home/mihai/firecracker/firecracker/src/dpdk_component)
The following warnings were emitted during compilation:

warning: In file included from /usr/local/include/rte_ring_core.h:30,
warning:                  from /usr/local/include/rte_ring.h:42,
warning:                  from src/../include/static-functions.h:1,
warning:                  from src/static-functions.c:1:
warning: /usr/include/asm-generic/errno.h:5:10: fatal error: asm-generic/errno-base.h: No such file or directory
warning:     5 | #include <asm-generic/errno-base.h>
warning:       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~
warning: compilation terminated.

error: failed to run custom build command for `dpdk_component v0.1.0 (/home/mihai/firecracker/firecracker/src/dpdk_component)`

Caused by:
  process didn't exit successfully: `/home/mihai/firecracker/firecracker/build/cargo_target/debug/build/dpdk_component-0dce60f3f4441bcd/build-script-build` (exit code: 1)
  --- stdout
  cargo:rerun-if-changed=build.rs
  TARGET = Some("x86_64-unknown-linux-musl")
  OPT_LEVEL = Some("0")
  HOST = Some("x86_64-unknown-linux-gnu")
  CC_x86_64-unknown-linux-musl = None
  CC_x86_64_unknown_linux_musl = None
  TARGET_CC = None
  CC = None
  CROSS_COMPILE = None
  CFLAGS_x86_64-unknown-linux-musl = None
  CFLAGS_x86_64_unknown_linux_musl = None
  TARGET_CFLAGS = None
  CFLAGS = None
  CRATE_CC_NO_DEFAULTS = None
  DEBUG = Some("true")
  CARGO_CFG_TARGET_FEATURE = Some("fxsr,sse,sse2")
  running: "musl-gcc" "-O0" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-m64" "-Wall" "-Wextra" "-Wno-unused-parameter" "-lrte_ring" "-lrte_mempool" "-lrte_mbuf" "-lrte_node" "-lrte_graph" "-lrte_bpf" "-lrte_flow_classify" "-lrte_pipeline" "-lrte_table" "-lrte_port" "-lrte_fib" "-lrte_ipsec" "-lrte_vhost" "-lrte_stack" "-lrte_security" "-lrte_sched" "-lrte_reorder" "-lrte_rib" "-lrte_regexdev" "-lrte_rawdev" "-lrte_pdump" "-lrte_power" "-lrte_member" "-lrte_lpm" "-lrte_latencystats" "-lrte_kni" "-lrte_jobstats" "-lrte_ip_frag" "-lrte_gso" "-lrte_gro" "-lrte_eventdev" "-lrte_efd" "-lrte_distributor" "-lrte_cryptodev" "-lrte_compressdev" "-lrte_cfgfile" "-lrte_bitratestats" "-lrte_bbdev" "-lrte_acl" "-lrte_timer" "-lrte_hash" "-lrte_metrics" "-lrte_cmdline" "-lrte_pci" "-lrte_ethdev" "-lrte_meter" "-lrte_net" "-lrte_rcu" "-lrte_eal" "-lrte_telemtry" "-lrte_kvargs" "-I/usr/include/asm-generic" "-I/usr/include/linux" "-I/usr/local/include" "-I/usr/include/x86_64-linux-gnu" "-o" "/home/mihai/firecracker/firecracker/build/cargo_target/x86_64-unknown-linux-musl/debug/build/dpdk_component-727022436a195dde/out/src/static-functions.o" "-c" "src/static-functions.c"
  cargo:warning=In file included from /usr/local/include/rte_ring_core.h:30,
  cargo:warning=                 from /usr/local/include/rte_ring.h:42,
  cargo:warning=                 from src/../include/static-functions.h:1,
  cargo:warning=                 from src/static-functions.c:1:
  cargo:warning=/usr/include/asm-generic/errno.h:5:10: fatal error: asm-generic/errno-base.h: No such file or directory
  cargo:warning=    5 | #include <asm-generic/errno-base.h>
  cargo:warning=      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~
  cargo:warning=compilation terminated.
  exit code: 1

  --- stderr


  error occurred: Command "musl-gcc" "-O0" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-m64" "-Wall" "-Wextra" "-Wno-unused-parameter" "-lrte_ring" "-lrte_mempool" "-lrte_mbuf" "-lrte_node" "-lrte_graph" "-lrte_bpf" "-lrte_flow_classify" "-lrte_pipeline" "-lrte_table" "-lrte_port" "-lrte_fib" "-lrte_ipsec" "-lrte_vhost" "-lrte_stack" "-lrte_security" "-lrte_sched" "-lrte_reorder" "-lrte_rib" "-lrte_regexdev" "-lrte_rawdev" "-lrte_pdump" "-lrte_power" "-lrte_member" "-lrte_lpm" "-lrte_latencystats" "-lrte_kni" "-lrte_jobstats" "-lrte_ip_frag" "-lrte_gso" "-lrte_gro" "-lrte_eventdev" "-lrte_efd" "-lrte_distributor" "-lrte_cryptodev" "-lrte_compressdev" "-lrte_cfgfile" "-lrte_bitratestats" "-lrte_bbdev" "-lrte_acl" "-lrte_timer" "-lrte_hash" "-lrte_metrics" "-lrte_cmdline" "-lrte_pci" "-lrte_ethdev" "-lrte_meter" "-lrte_net" "-lrte_rcu" "-lrte_eal" "-lrte_telemtry" "-lrte_kvargs" "-I/usr/include/asm-generic" "-I/usr/include/linux" "-I/usr/local/include" "-I/usr/include/x86_64-linux-gnu" "-o" "/home/mihai/firecracker/firecracker/build/cargo_target/x86_64-unknown-linux-musl/debug/build/dpdk_component-727022436a195dde/out/src/static-functions.o" "-c" "src/static-functions.c" with args "musl-gcc" did not execute successfully (status code exit code: 1).


--------------------------------------------------------------------------------------
OLD README from another package.

trying to get access to rte_mbuf structure.

I got access to rte_ring_dequeue, but not tested yet.
I try to compile my own .c file which wraps the rte_ring_dequeue because it is static inline.

bindgen command:

bindgen --generate-inline-functions include/static-functions.h -o src/bindingsMbuf.rs -- -include rte_config.h -march=native -I/usr/local/include


WARNING:

Something strange happened.
Every time I was trying to eal_init, I got an error.
The error disappeared after starting the dpdk_reader_server serve app.
Some packets were received, which is strange.

Only after running that app, I was able to start other programs to work with eal_init.